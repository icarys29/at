{
  "version": 2,
  "registry_id": "main",
  "generated_artifacts": [
    {
      "id": "DOC-REGISTRY-MD",
      "path": "docs/DOCUMENTATION_REGISTRY.md",
      "source": "docs/DOCUMENTATION_REGISTRY.json",
      "generator": "docs-keeper",
      "mode": "overwrite"
    }
  ],
  "doc_types": [
    {
      "type": "context",
      "prefix": "DOC-",
      "default_tier": 1,
      "dir": "docs",
      "template": "docs/_templates/PROJECT_CONTEXT.md.tpl"
    },
    {
      "type": "architecture",
      "prefix": "DOC-",
      "default_tier": 2,
      "dir": "docs",
      "template": "docs/_templates/ARCHITECTURE.md.tpl"
    },
    {
      "type": "adr",
      "prefix": "ADR-",
      "default_tier": 2,
      "dir": "docs/adr",
      "template": "docs/_templates/ADR.md.tpl"
    },
    {
      "type": "ard",
      "prefix": "ARD-",
      "default_tier": 2,
      "dir": "docs/architecture",
      "template": "docs/_templates/ARD.md.tpl"
    },
    {
      "type": "pattern",
      "prefix": "PAT-",
      "default_tier": 2,
      "dir": "docs/patterns",
      "template": "docs/_templates/PATTERN.md.tpl"
    },
    {
      "type": "runbook",
      "prefix": "RB-",
      "default_tier": 3,
      "dir": "docs/runbooks",
      "template": "docs/_templates/RUNBOOK.md.tpl"
    }
  ],
  "docs": [
    {
      "id": "DOC-PROJECT-CONTEXT",
      "type": "context",
      "path": "docs/PROJECT_CONTEXT.md",
      "title": "Project Context",
      "tier": 1,
      "when": "Use for project-wide conventions, workflows, and baseline constraints (planning + execution).",
      "tags": ["context", "conventions", "workflow"],
      "owners": ["core"],
      "status": "active"
    },
    {
      "id": "DOC-ARCHITECTURE",
      "type": "architecture",
      "path": "docs/ARCHITECTURE.md",
      "title": "Architecture Overview",
      "tier": 2,
      "when": "Use for architectural boundaries, dependency direction rules, and major patterns in use (keep concise).",
      "tags": ["architecture", "patterns", "boundaries"],
      "owners": ["core"],
      "status": "active"
    },
    {
      "id": "DOC-ADR-INDEX",
      "type": "architecture",
      "path": "docs/adr/README.md",
      "title": "ADRs Index",
      "tier": 2,
      "when": "Use when a deliver introduces or changes a material architecture decision; create/update ADRs under docs/adr/.",
      "tags": ["architecture", "decisions"],
      "owners": ["core"],
      "status": "active"
    },
    {
      "id": "ARD-INDEX",
      "type": "ard",
      "path": "docs/architecture/README.md",
      "title": "Architecture Records (ARDs) Index",
      "tier": 2,
      "when": "Use when a new core component/framework requires an internal design record (responsibilities/flow/boundaries).",
      "tags": ["architecture", "components"],
      "owners": ["core"],
      "status": "active"
    },
    {
      "id": "PAT-INDEX",
      "type": "pattern",
      "path": "docs/patterns/README.md",
      "title": "Pattern Docs Index",
      "tier": 2,
      "when": "Use when a reusable implementation pattern emerges (avoid repeated ADRs by documenting the pattern once).",
      "tags": ["patterns"],
      "owners": ["core"],
      "status": "active"
    },
    {
      "id": "RB-INDEX",
      "type": "runbook",
      "path": "docs/runbooks/README.md",
      "title": "Runbooks Index",
      "tier": 3,
      "when": "Use when operational procedures are needed (recovery, migrations, incident response).",
      "tags": ["runbooks", "ops"],
      "owners": ["core"],
      "status": "active"
    }
  ],
  "coverage_rules": [
    {
      "id": "ARCH-CHANGE-RULE",
      "description": "If core workflow/scripts/agents change, ensure architecture overview is reviewed/updated.",
      "match": {
        "paths_any": ["agents/**", "skills/**", "scripts/**", "hooks/**", "schemas/**"]
      },
      "actions": {
        "require_doc_ids": ["DOC-ARCHITECTURE"],
        "note": "Update only the relevant section(s); avoid rewriting the file."
      }
    }
  ]
}

