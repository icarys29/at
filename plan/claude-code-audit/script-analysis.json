{
  "version": 1,
  "generated_at": "2026-02-02T16:00:00Z",
  "summary": {
    "total_scripts": 97,
    "keep": 24,
    "simplify": 18,
    "eliminate": 31,
    "defer": 24
  },
  "categories": {
    "KEEP": {
      "description": "Essential scripts that provide real value and cannot be replaced by agent reasoning",
      "scripts": [
        {"path": "scripts/session/create_session.py", "reason": "Filesystem setup must be reliable"},
        {"path": "scripts/checkpoint/create_checkpoint.py", "reason": "Git operations must be atomic"},
        {"path": "scripts/checkpoint/restore_checkpoint.py", "reason": "Rollback requires reliability"},
        {"path": "scripts/quality/run_quality_suite.py", "reason": "Subprocess execution for lint/test/build"},
        {"path": "scripts/audit/audit_log.py", "reason": "Structured JSONL logging"},
        {"path": "scripts/audit/install_audit_hooks.py", "reason": "Hook installation"},
        {"path": "scripts/audit/uninstall_audit_hooks.py", "reason": "Hook uninstallation"},
        {"path": "scripts/audit/prune_audit_logs.py", "reason": "Log maintenance"},
        {"path": "scripts/audit/analyze_audit_logs.py", "reason": "Log analysis"},
        {"path": "scripts/init_project.py", "reason": "Project setup orchestration"},
        {"path": "scripts/doctor.py", "reason": "Configuration validation"},
        {"path": "scripts/docs/generate_registry_md.py", "reason": "Simple deterministic transformation"},
        {"path": "scripts/docs/allocate_doc_id.py", "reason": "ID allocation must be consistent"},
        {"path": "scripts/session/list_sessions.py", "reason": "Filesystem enumeration"},
        {"path": "scripts/maintenance/cleanup_sessions.py", "reason": "Filesystem cleanup"},
        {"path": "scripts/hooks/policy_pre_tool_use.py", "reason": "Security guardrail - secrets protection"},
        {"path": "scripts/hooks/install_policy_hooks.py", "reason": "Hook installation"},
        {"path": "scripts/hooks/uninstall_policy_hooks.py", "reason": "Hook uninstallation"},
        {"path": "scripts/upgrade/upgrade_project.py", "reason": "Migration logic"},
        {"path": "scripts/upgrade/migrate_overlay.py", "reason": "Schema migration"},
        {"path": "scripts/dev/add_version_headers.py", "reason": "Version management"},
        {"path": "scripts/languages/install_language_pack.py", "reason": "Template installation"},
        {"path": "scripts/project_pack/install_project_pack.py", "reason": "Template installation"},
        {"path": "scripts/e2e/setup_e2e.py", "reason": "E2E scaffolding"}
      ]
    },
    "SIMPLIFY": {
      "description": "Scripts that can be significantly reduced in complexity",
      "scripts": [
        {"path": "scripts/hooks/enforce_file_scope.py", "reason": "325 lines -> ~50 lines; remove transcript parsing", "target_lines": 50},
        {"path": "scripts/context/build_context_pack.py", "reason": "430 lines -> thin wrapper with @imports template", "target_lines": 80},
        {"path": "scripts/context/build_task_contexts.py", "reason": "Move task context logic to agent instructions", "target_lines": 100},
        {"path": "scripts/session/session_progress.py", "reason": "Simplify; let agent generate reports", "target_lines": 50},
        {"path": "scripts/session/task_board.py", "reason": "Simplify to status aggregation only", "target_lines": 40},
        {"path": "scripts/docs/docs_plan.py", "reason": "Coverage rules can be agent instructions", "target_lines": 60},
        {"path": "scripts/docs/docs_lint.py", "reason": "Keep but simplify checks", "target_lines": 80},
        {"path": "scripts/docs/coverage_rules.py", "reason": "Move to registry-driven agent logic", "target_lines": 40},
        {"path": "scripts/hooks/on_subagent_stop.py", "reason": "Simplify reply validation", "target_lines": 30},
        {"path": "scripts/hooks/validate_task_invocation.py", "reason": "Remove or make trivial", "target_lines": 20},
        {"path": "scripts/hooks/validate_actions_write.py", "reason": "Remove duplicate validation", "target_lines": 0},
        {"path": "scripts/learning/learning_state.py", "reason": "Simplify state management", "target_lines": 30},
        {"path": "scripts/learning/update_learning_state.py", "reason": "Simplify updates", "target_lines": 40},
        {"path": "scripts/telemetry/build_session_kpis.py", "reason": "Simplify metrics", "target_lines": 60},
        {"path": "scripts/telemetry/rollup_kpis.py", "reason": "Simplify aggregation", "target_lines": 40},
        {"path": "scripts/onboarding/analyze_repo.py", "reason": "Core of /at:setup wizard", "target_lines": 100},
        {"path": "scripts/onboarding/apply_onboarding.py", "reason": "Template application", "target_lines": 60},
        {"path": "scripts/workflow/run_deterministic.py", "reason": "Simplify rerun logic", "target_lines": 80}
      ]
    },
    "ELIMINATE": {
      "description": "Scripts that duplicate Claude's reasoning and should be removed",
      "scripts": [
        {"path": "scripts/validate/validate_actions.py", "reason": "Move schema validation to agent instructions"},
        {"path": "scripts/validate/actions_validator.py", "reason": "Merge with agent instructions"},
        {"path": "scripts/validate/plan_adherence.py", "reason": "Agent self-check; comparing what Claude wrote"},
        {"path": "scripts/validate/parallel_conformance.py", "reason": "Action-planner should get it right"},
        {"path": "scripts/validate/validate_changed_files.py", "reason": "Scope hook already enforces this"},
        {"path": "scripts/validate/validate_task_artifacts.py", "reason": "Agent can validate its own outputs"},
        {"path": "scripts/validate/gates_summary.py", "reason": "Simple aggregation Claude can do"},
        {"path": "scripts/validate/docs_gate.py", "reason": "Merge into docs-keeper workflow"},
        {"path": "scripts/validate/e2e_gate.py", "reason": "Thin wrapper; merge into quality suite"},
        {"path": "scripts/validate/user_stories_gate.py", "reason": "Agent can validate coverage"},
        {"path": "scripts/validate/verifications_gate.py", "reason": "Merge into quality workflow"},
        {"path": "scripts/validate/run_verifications.py", "reason": "Merge into quality suite"},
        {"path": "scripts/compliance/generate_compliance_report.py", "reason": "Trivial aggregation; agent inline"},
        {"path": "scripts/workflow/run_review.py", "reason": "Thin orchestration; merge into run skill"},
        {"path": "scripts/workflow/run_triage.py", "reason": "Thin orchestration; merge into run skill"},
        {"path": "scripts/workflow/generate_dry_run_report.py", "reason": "Agent can generate reports"},
        {"path": "scripts/docs/docs_requirements_for_plan.py", "reason": "Coverage rules are agent instructions"},
        {"path": "scripts/docs/docs_status.py", "reason": "Agent can read registry and report"},
        {"path": "scripts/docs/code_index.py", "reason": "LSP tool + agent reasoning replaces this"},
        {"path": "scripts/session/session_diagnostics.py", "reason": "Agent can diagnose from artifacts"},
        {"path": "scripts/session/session_auditor.py", "reason": "Agent reasoning task"},
        {"path": "scripts/session/retrospective.py", "reason": "Agent reasoning task"},
        {"path": "scripts/quality/rerun_quality_command.py", "reason": "Thin wrapper; inline in quality suite"},
        {"path": "scripts/quality/verify.py", "reason": "Merge into quality suite"},
        {"path": "scripts/maintenance/self_audit.py", "reason": "Agent can self-audit"},
        {"path": "scripts/maintenance/help.py", "reason": "Help should be skill content, not script"},
        {"path": "scripts/learning/learning_status.py", "reason": "Agent can read state and report"},
        {"path": "scripts/learning/continuous_learning.py", "reason": "Agent reasoning task"},
        {"path": "scripts/enforcement/install_god_class_check.py", "reason": "Niche; defer or remove"},
        {"path": "scripts/enforcement/god_class_audit.py", "reason": "Niche; defer or remove"},
        {"path": "scripts/planning/archive_planning_outputs.py", "reason": "Simple file ops; inline"}
      ]
    },
    "DEFER": {
      "description": "Scripts to evaluate in future phases",
      "scripts": [
        {"path": "scripts/lib/*.py", "reason": "Library code; evaluate after script reduction", "count": 12},
        {"path": "scripts/hooks/audit_*.py", "reason": "Audit hooks; keep if audit feature retained", "count": 4},
        {"path": "scripts/hooks/docs_*.py", "reason": "Docs hooks; evaluate after docs-keeper simplification", "count": 2},
        {"path": "scripts/hooks/nudge_*.py", "reason": "UX nudges; evaluate usefulness", "count": 2},
        {"path": "scripts/hooks/sessionstart_*.py", "reason": "Learning hooks; evaluate after learning simplification", "count": 1},
        {"path": "scripts/learning/install_learning_hooks.py", "reason": "Depends on learning system decision"},
        {"path": "scripts/learning/uninstall_learning_hooks.py", "reason": "Depends on learning system decision"}
      ]
    }
  },
  "metrics": {
    "current_total_lines": "~12000",
    "target_total_lines": "~4000",
    "reduction_percentage": "67%"
  }
}
